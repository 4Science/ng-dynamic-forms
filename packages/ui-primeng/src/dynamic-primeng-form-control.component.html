<div [formGroup]="group" [ngClass]="[getClass('element', 'container'), getClass('grid', 'container')]">

    <div *ngIf="model.type !== 'CHECKBOX' && model.label" [ngClass]="getClass('grid', 'label')">

        <label [for]="model.id" [innerHTML]="model.label" [ngClass]="getClass('element', 'label')"></label>

    </div>

    <ng-container *ngTemplateOutlet="templates[0]?.templateRef; context: model"></ng-container>

    <!-- FORM GROUP --------------------------------------------------------------------------------------------------->
    <div *ngIf="isFormGroup" role="group"
         [dynamicId]="bindId && model.id"
         [formGroupName]="model.id"
         [ngClass]="[getClass('element', 'control'), getClass('grid', 'control')]">

        <dynamic-primeng-form-control *ngFor="let _model of model.group"
                                      [group]="control"
                                      [hidden]="_model.hidden"
                                      [layout]="layout"
                                      [model]="_model "
                                      [templates]="templateList"
                                      [ngClass]="[getClass('element', 'host', _model), getClass('grid', 'host', _model)]"
                                      (blur)="onBlur($event)"
                                      (change)="onChange($event)"
                                      (focus)="onFocus($event)"
                                      (pEvent)="onCustomEvent($event)"></dynamic-primeng-form-control>
    </div>

    <ng-container #radioGroupViewContainer></ng-container>

    <div [ngClass]="getClass('grid', 'control')">

        <ng-container #componentViewContainer></ng-container>

        <!-- FORM ARRAY ----------------------------------------------------------------------------------------------->
        <div *ngIf="isFormArray"
             [dynamicId]="bindId && model.id"
             [formArrayName]="model.id"
             [ngClass]="getClass('element', 'control')">

            <div *ngFor="let groupModel of model.groups; let idx = index" role="group"
                 [formGroupName]="idx" [ngClass]="[getClass('element', 'group'), getClass('grid', 'group')]">

                <dynamic-primeng-form-control *ngFor="let _model of groupModel.group"
                                              [bindId]="false"
                                              [context]="groupModel"
                                              [group]="control.at(idx)"
                                              [hidden]="_model.hidden"
                                              [layout]="layout"
                                              [model]="_model"
                                              [templates]="templateList"
                                              [ngClass]="[getClass('element', 'host', _model), getClass('grid', 'host', _model)]"
                                              (blur)="onBlur($event)"
                                              (change)="onChange($event)"
                                              (focus)="onFocus($event)"
                                              (pEvent)="onCustomEvent($event)"></dynamic-primeng-form-control>

                <ng-container *ngTemplateOutlet="templates[2]?.templateRef; context: groupModel"></ng-container>

            </div>

        </div>

    </div>

    <ul *ngIf="showErrorMessages" [ngClass]="[getClass('element', 'errors'), getClass('grid', 'errors')]">
        <li *ngFor="let message of errorMessages" class="ui-message ui-messages-error ui-corner-all">{{ message }}</li>
    </ul>

    <ng-container *ngTemplateOutlet="templates[1]?.templateRef; context: model"></ng-container>

    <ng-content></ng-content>

</div>